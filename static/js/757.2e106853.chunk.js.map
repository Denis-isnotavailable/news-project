{"version":3,"file":"static/js/757.2e106853.chunk.js","mappings":"wPAiEA,EA5DuB,SAAjBA,EAAkB,GAAiB,IAAD,IAAfC,KAAAA,OAAe,MAAR,GAAQ,EACpC,GAAgCC,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAAgDF,EAAAA,EAAAA,WAAS,GAAzD,eAAOG,EAAP,KAAyBC,EAAzB,KAgBA,OAdAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAS,mCAAG,qGAEQC,EAAAA,EAAAA,IAAcR,GAFtB,OAERS,EAFQ,OAIdN,EAAYM,GAJE,2CAAH,qDAOfF,GAEH,GAAE,IAEHG,QAAQC,IAAIT,IAGR,gCAEsB,IAAhBF,EAAKY,QACH,oBACIC,KAAK,SACLC,QAAS,kBAAMT,GAAoB,SAAAU,GAAI,OAAKA,CAAL,GAA9B,EAFb,8BAIsBf,EAAKY,OAJ3B,QAOA,oBACIC,KAAK,SADT,gCAGwBb,EAAKY,OAH7B,QAMFR,IACE,wBACIF,EAASc,KAAI,SAAAC,GACT,IACMC,EADO,IAAIC,KAAKF,EAAIG,KAAO,OACfC,WAAWC,MAAM,KAAKC,MAAM,EAAG,GACjD,OACI,gBAAiBC,MAAO,CAAEC,YAAa,QAAvC,WACI,4BACI,oCAAYR,EAAIS,OAChB,uBAAIR,EAAKS,KAAK,WAElB,uBAAIV,EAAIW,QACR,gFACEX,EAAIjB,OAAQ,SAACD,EAAD,CAAgB8B,UAAWZ,EAAIa,GAAI9B,KAAI,OAAEiB,QAAF,IAAEA,OAAF,EAAEA,EAAKjB,SAPvDiB,EAAIa,GAUpB,QAOpB,E,kBC7DYC,E,OAAiBC,GAAAA,IAAH,8MC2D3B,EArDiB,WAAO,IAAD,EACXF,GAAOG,EAAAA,EAAAA,MAAPH,GACR,GAAwB7B,EAAAA,EAAAA,UAAS,CAAC,GAAlC,eAAOiC,EAAP,KAAaC,EAAb,KACA,GAAgClC,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KAEMe,EADO,IAAIC,KAAKe,EAAKd,KAAO,OAChBC,WAAWC,MAAM,KAAKC,MAAM,EAAG,GAkBjD,OAhBAjB,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAS,mCAAG,uGACK6B,EAAAA,EAAAA,GAAaN,GADlB,cACRO,EADQ,iBAEQ7B,EAAAA,EAAAA,IAAc6B,EAAKrC,MAF3B,OAERS,EAFQ,OAGd0B,EAAQE,GACRlC,EAAYM,GAJE,2CAAH,qDAOfF,GAEH,GAAE,IAEHG,QAAQC,IAAIT,IAKR,UAAC6B,EAAD,YACI,wBAAKG,EAAKI,SACV,cAAGC,KAAML,EAAKM,IAAd,SAAoBN,EAAKM,OACzB,uCAAetB,EAAKS,KAAK,SACzB,oCAAYO,EAAKR,OACjB,uCAAeQ,EAAKlC,KAAL,UAAYkC,EAAKlC,YAAjB,aAAY,EAAWY,OAAS,EAA/C,QACA,wBACKV,EAASc,KAAI,SAAAyB,GACV,IACMvB,EADO,IAAIC,KAAKsB,EAAQrB,KAAO,OACnBC,WAAWC,MAAM,KAAKC,MAAM,EAAG,GACjD,OACI,2BACI,4BACI,oCAAYkB,EAAQf,OACpB,uBAAIR,EAAKS,KAAK,WAElB,uBAAIc,EAAQb,QACZ,yBAAOa,EAAQC,MAAQD,EAAQE,WAAY,yDAE3C,SAAC,EAAD,CAAgBd,UAAWY,EAAQX,GAAI9B,KAAI,OAAEyC,QAAF,IAAEA,OAAF,EAAEA,EAASzC,SARjDyC,EAAQX,GAYxB,QAIhB,C","sources":["components/DiscussionArea/DiscussionArea.jsx","pages/PostPage/PostPage.styled.jsx","pages/PostPage/PostPage.jsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { fetchComments } from \"redux/operations\";\n\n\nconst DiscussionArea = ({kids = []}) => {\n    const [comments, setComments] = useState([]);\n    const [isDiscussionOpen, setIsDiscussionOpen] = useState(false);    \n\n    useEffect(() => {\n        const fetchPost = async () => {\n            // const data = await fetchOnePost(commentId);\n            const comData = await fetchComments(kids);\n            // setPost(data)\n            setComments(comData);\n        }\n\n        fetchPost();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    console.log(comments);\n\n    return (\n        <>\n\n            { kids.length !== 0 ?\n                <button\n                    type=\"button\"\n                    onClick={() => setIsDiscussionOpen(prev => !prev)}\n                >\n                    open discussion ({kids.length})\n                </button>\n                :\n                <button\n                    type=\"button\"                    \n                >\n                    no discussion yet ({kids.length})\n                </button>\n            }\n            {!isDiscussionOpen ||\n                <ul>{\n                    comments.map(com => {\n                        const time = new Date(com.time + 1500000000000);\n                        const date = time.toString().split(' ').slice(1, 5);\n                        return (\n                            <li key={com.id} style={{ paddingLeft: '36px' }}>\n                                <div>\n                                    <p>Author: {com.by}</p>\n                                    <p>{date.join(' ')}</p>\n                                </div>\n                                <p>{com.text}</p>\n                                <p>---------------------------------------------------</p>\n                                {!com.kids || <DiscussionArea commentId={com.id} kids={com?.kids}/>}\n\n                            </li>)\n                    })\n                }</ul>\n            }\n            \n        </>\n        \n    );\n}\n\nexport default DiscussionArea;","import styled from \"styled-components\";\n\nexport const PostPageStyled = styled.div`\n    padding: 40px;\n\n    div{\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 8px;\n    }\n\n    li {\n        margin-bottom: 16px;\n    }\n`;","import DiscussionArea from \"components/DiscussionArea/DiscussionArea\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchComments, fetchOnePost } from \"redux/operations\";\nimport { PostPageStyled } from \"./PostPage.styled\";\n\n\nconst PostPage = () => {\n    const { id } = useParams();\n    const [post, setPost] = useState({});\n    const [comments, setComments] = useState([]);\n    const time = new Date(post.time + 1500000000000);\n    const date = time.toString().split(' ').slice(1, 5);    \n\n    useEffect(() => {\n        const fetchPost = async () => {\n            const data = await fetchOnePost(id);\n            const comData = await fetchComments(data.kids);\n            setPost(data)\n            setComments(comData);\n        }\n\n        fetchPost();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    console.log(comments);\n    // console.log(post);\n    \n\n    return (\n        <PostPageStyled>\n            <h2>{post.title}</h2>\n            <a href={post.url}>{post.url}</a>\n            <p>Post date: {date.join(' ')}</p>\n            <p>Author: {post.by}</p>\n            <h3>Comments ({post.kids ? post.kids?.length : 0})</h3>            \n            <ul>\n                {comments.map(comment => {\n                    const time = new Date(comment.time + 1500000000000);\n                    const date = time.toString().split(' ').slice(1, 5);\n                    return (\n                        <li key={comment.id}>\n                            <div>\n                                <p>Author: {comment.by}</p>\n                                <p>{date.join(' ')}</p>\n                            </div>\n                            <p>{comment.text}</p>\n                            <p>{ !(comment.dead || comment.deleted) || <>comment was deleted</>  }</p>                            \n\n                            <DiscussionArea commentId={comment.id} kids={comment?.kids} />\n                            \n                        </li>\n                    );\n                })}\n            </ul>\n        </PostPageStyled>\n    );\n}\n\nexport default PostPage;"],"names":["DiscussionArea","kids","useState","comments","setComments","isDiscussionOpen","setIsDiscussionOpen","useEffect","fetchPost","fetchComments","comData","console","log","length","type","onClick","prev","map","com","date","Date","time","toString","split","slice","style","paddingLeft","by","join","text","commentId","id","PostPageStyled","styled","useParams","post","setPost","fetchOnePost","data","title","href","url","comment","dead","deleted"],"sourceRoot":""}